name = "email-ingest-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Uncomment to deploy to a specific route
# routes = [
#   { pattern = "example.com/*", zone_name = "example.com" }
# ]

# Uncomment for environment variables
# [vars]
# ENVIRONMENT = "production"
# HOST_EMAIL = "host@capehost.ai"

# Storage bindings
# Create KV namespace first: wrangler kv:namespace create "KNOWLEDGE_ITEMS"
# Then uncomment and update the binding ID:
[[kv_namespaces]]
binding = "KNOWLEDGE_ITEMS"
id = "364aef3b82d14500883fc957a3c62b90"
preview_id = "9cd079ccd9b34037a816f0c2782d4fb4"

# Logging configuration
# Logs are enabled by default in Cloudflare Workers
# View logs with: wrangler tail
# Or in the Cloudflare Dashboard under Workers > Logs
[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true

